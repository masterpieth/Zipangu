DROP TABLE GUESTBOOK;
DROP TABLE REPLY;
DROP TABLE BOARD;

DROP TABLE COMPANY_RESULT;
DROP TABLE COMPANY;
DROP TABLE PERSONALITY;
DROP TABLE TIMELINE;
DROP TABLE SENDER_MSG;
DROP TABLE RECEIVED_MSG;
DROP TABLE SCHEDULE;
DROP TABLE INTERVIEW_RESULT;
DROP TABLE QUESTION;
DROP TABLE INTERVIEW;
DROP TABLE CAREER;
DROP TABLE QUALIFIED;
DROP TABLE RESUME;
DROP TABLE MEMBER;

DROP SEQUENCE RESUME_SEQ;
DROP SEQUENCE INTERVIEW_SEQ;
DROP SEQUENCE QUESTION_SEQ;
DROP SEQUENCE COMPANY_NUM;
DROP SEQUENCE TIMELINE_SEQ;

CREATE SEQUENCE RESUME_SEQ;
CREATE SEQUENCE INTERVIEW_SEQ;
CREATE SEQUENCE QUESTION_SEQ;
CREATE SEQUENCE COMPANY_NUM;
CREATE SEQUENCE TIMELINE_SEQ;

CREATE TABLE MEMBER(
    USERID VARCHAR2(100) PRIMARY KEY,
    USERPWD VARCHAR2(100) NOT NULL,
    EMAIL VARCHAR2(100) NOT NULL,
    USERNAME VARCHAR2(50) NOT NULL,
    BIRTH DATE NOT NULL,
    ADDRESS VARCHAR2(200) NOT NULL,
    PHONE VARCHAR2(50) NOT NULL,
    SEX VARCHAR2(10) NOT NULL,
    AUTHORITY NUMBER DEFAULT 2,
    TEXTFILENAME VARCHAR2(200),
    SIGNUPDATE TIMESTAMP DEFAULT SYSTIMESTAMP
    );

CREATE TABLE RESUME(
    RESUME_NUM NUMBER PRIMARY KEY,
    USERID VARCHAR2(100) REFERENCES MEMBER(USERID),
    WHY VARCHAR2(2000),
    HOBBYNSKILL VARCHAR2(2000),
    INTRODUCE VARCHAR2(2000),
    PICFILENAME VARCHAR2(200),
    TITLE VARCHAR2(1000),
    INPUTDATE TIMESTAMP DEFAULT SYSTIMESTAMP,
    CORRECTEDDATE TIMESTAMP DEFAULT SYSTIMESTAMP
    );

CREATE TABLE QUALIFIED(
    RESUME_NUM NUMBER REFERENCES RESUME(RESUME_NUM),
    PERIOD DATE,
    CONTENT VARCHAR2(1000));

CREATE TABLE CAREER(
    RESUME_NUM NUMBER REFERENCES RESUME(RESUME_NUM),
    START_PERIOD DATE,
    END_PERIOD DATE,
    CONTENT VARCHAR2(1000));

CREATE TABLE INTERVIEW(
    INTERVIEW_NUM NUMBER PRIMARY KEY,
    USERID VARCHAR2(100) REFERENCES MEMBER(USERID),
    INPUTDATE TIMESTAMP DEFAULT SYSTIMESTAMP);

CREATE TABLE QUESTION(
    QUESTION_NUM NUMBER PRIMARY KEY,
    QUESTION_TEXT VARCHAR2(200));

CREATE TABLE INTERVIEW_RESULT(
    INTERVIEW_NUM NUMBER REFERENCES INTERVIEW(INTERVIEW_NUM),
    QUESTION_NUM NUMBER REFERENCES QUESTION(QUESTION_NUM),
    VOICEFILENAME VARCHAR2(200),
    RESULT VARCHAR2(100));
    
CREATE TABLE SCHEDULE(
    MENTORID VARCHAR2(100) REFERENCES MEMBER(USERID) NOT NULL,
    MENTEEID VARCHAR2(100) REFERENCES MEMBER(USERID),
    RESERVEDATE DATE NOT NULL);

CREATE TABLE RECEIVED_MSG(
    USERID VARCHAR2(100) REFERENCES MEMBER(USERID) NOT NULL,
    SENDERID VARCHAR2(100) REFERENCES MEMBER(USERID) NOT NULL,
    INPUTDATE TIMESTAMP DEFAULT SYSTIMESTAMP,
    TITLE VARCHAR2(1000),
    TEXT VARCHAR2(2000));

CREATE TABLE SENDER_MSG(
    USERID VARCHAR2(100) REFERENCES MEMBER(USERID) NOT NULL,
    RECEIVEDID VARCHAR2(100) REFERENCES MEMBER(USERID) NOT NULL,
    INPUTDATE TIMESTAMP DEFAULT SYSTIMESTAMP,
    TITLE VARCHAR2(1000),
    TEXT VARCHAR2(2000));
    
CREATE TABLE PERSONALITY(
    USERID VARCHAR2(100) REFERENCES MEMBER(USERID),
    TRAIT VARCHAR2(50),
    RATE NUMBER);
    
CREATE TABLE TIMELINE(
    TIMELINE_NUM NUMBER PRIMARY KEY,
    USERID VARCHAR2(100) REFERENCES MEMBER(USERID),
    TRAITS_SELECTED VARCHAR2(50),
    EPISODE_TITLE VARCHAR2(200),
    EPISODE_CONTENT VARCHAR2(2000),
    START_DATE DATE,
    FINISH_DATE DATE
);

CREATE TABLE COMPANY(
    COMPANY_NUM NUMBER PRIMARY KEY,
    TYPE VARCHAR2(4000),
    LOCATION VARCHAR2(4000),
    CONTACT VARCHAR2(4000),
    URL VARCHAR2(100),
    TEXT CLOB);

CREATE TABLE COMPANY_RESULT(
    COMPANY_NUM NUMBER REFERENCES COMPANY(COMPANY_NUM),
    USERID VARCHAR2(100) REFERENCES MEMBER(USERID),
    RESULTDATE TIMESTAMP DEFAULT SYSTIMESTAMP
    );

Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'自分の長所は何ですか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'自分の短所は何ですか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'自分強みは何ですか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'アルバイト経験について教えてください。');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'自分の性格について教えてください。');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'業界の志望理由は?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'N年後の自分はどうなっていたい?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'あなたにとって、「仕事」とは?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'学生と社会人の違いは何だと思いますか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'希望しない部署に配属されたら、どうしますか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'あなたの特技は何ですか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'苦手なことは何ですか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'働く上で大切なことは何ですか?');
Insert into QUESTION (QUESTION_NUM,QUESTION_TEXT) values (QUESTION_SEQ.NEXTVAL,'日本で働きたい理由は何ですか?');
COMMIT;